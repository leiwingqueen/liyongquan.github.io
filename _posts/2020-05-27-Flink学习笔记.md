---
layout: post
title:  "flink学习笔记"
description: flink学习笔记
date:   2020-05-28 15:50:00 +000
categories: flink 大数据
tags: flink 大数据
---

### 基本概念

- Flink Master
- Flink TaskManager

### flink-playgrounds

构造和启动

```shell
git clone --branch release-1.10 https://github.com/apache/flink-playgrounds.git
cd flink-playgrounds/operations-playground
docker-compose build
docker-compose up -d
```

查看容器

```shell
liyongquan@liyongquan-server2:/3rd/flink-playgrounds/operations-playground$ docker-compose ps
                    Name                                  Command               State                   Ports                
-----------------------------------------------------------------------------------------------------------------------------
operations-playground_clickevent-generator_1   /docker-entrypoint.sh java ...   Up       6123/tcp, 8081/tcp                  
operations-playground_client_1                 /docker-entrypoint.sh flin ...   Exit 0                                       
operations-playground_jobmanager_1             /docker-entrypoint.sh jobm ...   Up       6123/tcp, 0.0.0.0:8081->8081/tcp    
operations-playground_kafka_1                  start-kafka.sh                   Up       0.0.0.0:9094->9094/tcp              
operations-playground_taskmanager_1            /docker-entrypoint.sh task ...   Up       6123/tcp, 8081/tcp                  
operations-playground_zookeeper_1              /bin/sh -c /usr/sbin/sshd  ...   Up       2181/tcp, 22/tcp, 2888/tcp, 3888/tcp

```

停止

```shell
docker-compose down -v
```

### 日志查看

jobmanager

```shell
docker-compose logs -f jobmanager
```

taskmanager

```shell
docker-compose logs -f taskmanager
```

调用flink-client

```shell
docker-compose run --no-deps client flink --help
```

### REST API

查看job

```shell
curl localhost:8081/jobs
```

